---
sidebar: sidebar 
permalink: bp/hana-asa-fc-storage-controller-setup_multiple_hosts.html 
keywords: storage efficiency, netapp volume encryption, quality of service, qos, fabricpool, Disk shelf, sas, fcp port sets, linux lvm, 
summary: Cette section décrit comment créer des LUN pour un système à hôtes multiples 
---
= Plusieurs hôtes
:allow-uri-read: 




== Plusieurs hôtes

[role="lead"]
Cette section décrit la configuration du système de stockage NetApp spécifique aux systèmes multi-hôtes SAP HANA



== Création de LUN et mappage de LUN à des groupes initiateurs

Vous pouvez utiliser NetApp ONTAP System Manager pour créer des volumes de stockage et des LUN et les mapper aux igroups des serveurs et à l'interface de ligne de commande ONTAP .



=== Création de LUN et mappage de LUN à des groupes d'initiateurs à l'aide de l'interface de ligne de commande

Cette section présente un exemple de configuration à l'aide de la ligne de commande avec ONTAP 9 pour un système hôte SAP HANA multiple 2+1 avec SID FC5 utilisant LVM et deux LUN par groupe de volumes LVM :

. Créer toutes les LUN.
+
....
lun create -path FC5_data_mnt00001_1 -size 1t -ostype linux  -class regular
lun create -path FC5_data_mnt00001_2 -size 1t -ostype linux  -class regular
lun create -path FC5_data_mnt00002_1 -size 1t -ostype linux  -class regular
lun create -path FC5_data_mnt00002_2 -size 1t -ostype linux  -class regular
lun create -path FC5_log_mnt00001_1 -size 260g -ostype linux  -class regular
lun create -path FC5_log_mnt00001_2 -size 260g -ostype linux  -class regular
lun create -path FC5_log_mnt00002_1 -size 260g -ostype linux  -class regular
lun create -path FC5_log_mnt00002_2 -size 260g -ostype linux  -class regular
....
. Créez le groupe initiateur pour tous les serveurs appartenant au système FC5.
+
....
lun igroup create -igroup HANA-FC5 -protocol fcp -ostype linux -initiator 10000090fadcc5fa,10000090fadcc5fb,10000090fadcc5c1,10000090fadcc5c2,10000090fadcc5c3,10000090fadcc5c4 -vserver svm1
....
. Mapper toutes les LUN sur le groupe initiateur créé.
+
....
lun map -path FC5_data_mnt00001_1 -igroup HANA-FC5
lun map -path FC5_data_mnt00001_2 -igroup HANA-FC5
lun map -path FC5_data_mnt00002_1 -igroup HANA-FC5
lun map -path FC5_data_mnt00002_2 -igroup HANA-FC5
lun map -path FC5_log_mnt00001_1 -igroup HANA-FC5
lun map -path FC5_log_mnt00001_2 -igroup HANA-FC5
lun map -path FC5_log_mnt00002_1 -igroup HANA-FC5
lun map -path FC5_log_mnt00002_2 -igroup HANA-FC5
....




=== Création de LUN et mappage de LUN à des groupes d'initiateurs à l'aide de l'interface graphique

Cette section montre un exemple de configuration utilisant `ONTAP System Manager` pour un système hôte multiple SAP HANA 2+1 avec SID FC5 utilisant LVM et deux LUN par groupe de volumes LVM :

. Connectez-vous au `ONTAP System Manager` de votre cluster ONTAP et choisissez `Storage` depuis le menu de gauche.
+
.. Presse `Add`
+
image:saphana_asa_fc_image12.png["Gestionnaire système ONTAP - Stockage"]



. Choisir `More options`
+
image:saphana_asa_fc_image13.png["Gestionnaire système ONTAP - Ajouter du stockage"]

. Fournissez les informations requises :
+
.. nom des LUN de données, par exemple.`FC5_data_mnt00001`
.. la quantité de LUN à combiner avec LVM, par exemple 2
.. la taille de chaque LUN, par exemple 1000 Go
.. choisir `SCSI (FC or iSCSI)`
.. choisir `Linux` comme `Host Operating system`
.. choisir `New host` pour le `Host mapping` option, fournir un nom, par exemple `FC5_host` , sélectionnez ou ajoutez les initiateurs souhaités
.. Garder `Schedule snapshots` non coché
.. presse `Add`
+
image:saphana_asa_fc_image14.png["ONTAP System Manager - Créer des LUN de données"]



. Créez les LUN de données pour le prochain hôte de travail en appuyant sur `Add`
+
image:saphana_asa_fc_image15.png["ONTAP System Manager - Créer des LUN de données supplémentaires"]

. Fournissez les informations requises :
+
.. le nom des LUN de données supplémentaires, par exemple `FC5_data_mnt00002`
.. la quantité de LUN à combiner avec LVM, par exemple 2
.. la taille de chaque LUN, par exemple 1000 Go
.. choisir `Linux` comme `Host Operating system`
.. choisir le mappage précédemment créé `FC5_host` pour le `Host mapping` option
.. presse `Add`


+
image:saphana_asa_fc_image20.png["ONTAP System Manager - Créer des LUN de données"]

. Répétez les étapes 4 et 5 pour chaque hôte de travail supplémentaire
. Après avoir créé avec succès les LUN de données, créez les LUN de journal en appuyant sur `Add`
+
image:saphana_asa_fc_image21.png["ONTAP System Manager - Créer des LUN de journal"]

. Fournissez les informations requises :
+
.. le nom des LUN du journal à combiner avec LVM, par exemple `FC5_log_mnt00001`
.. la quantité de LUN à combiner avec LVM, par exemple 2
.. la taille de chaque LUN, par exemple 260 Go
.. choisir `Linux` comme `Host Operating system`
.. choisir le mappage précédemment créé `FC5_host` pour le `Host mapping` option
.. presse `Add`
+
image:saphana_asa_fc_image22.png["ONTAP System Manager - Créer des LUN de journal"]



. Créez les LUN de journal pour le prochain hôte de travail en appuyant sur `Add`
+
image:saphana_asa_fc_image23.png["ONTAP System Manager - Créer des LUN de journal supplémentaires"]

. Fournissez les informations requises :
+
.. le nom des LUN de journal supplémentaires, par exemple `FC5_log_mnt00002`
.. la quantité de LUN à combiner avec LVM, par exemple 2
.. la taille de chaque LUN, par exemple 260 Go
.. choisir `Linux` comme `Host Operating system`
.. choisir le mappage précédemment créé `FC5_host` pour le `Host mapping` option
.. presse `Add`
+
image:saphana_asa_fc_image24.png["ONTAP System Manager - Créer des LUN de journal supplémentaires"]



. Répétez les étapes 9 et 10 pour chaque hôte de travail supplémentaire


Tous les LUN requis pour un système multi-hôtes SAP HANA ont été créés.

image:saphana_asa_fc_image25.png["ONTAP System Manager - Présentation des LUN"]
